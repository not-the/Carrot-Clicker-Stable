function menuOpen(){return menuState.dialog||menuState.character||menuState.theme||menuState.cosmetic||menuState.prestige||menuState.tips||menuState.credits}function updateTipsInput(e){e=e.srcElement.value;elFunTipsSlider.value=e,elFunTipsSlider_label.value=e,settings.fun_tip_percentage=parseInt(elFunTipsSlider.value),saveSettings()}function setting(e,t=!1){var a=dom(e).checked;console.log(e+" set to "+a),settings[e]=a,saveSettings(),"compact_achievements"===e?achieveCompactMode(a):"achievements_grid"===e?achieveGridMode(a):"full_numbers"===e?(carrotCount(),updateCPC(),characterPrices()):"show_nav"===e&&style(elBody,"hide_nav",!a),t&&toast("Settings",`${capitalizeFL(e.split("_").join(" "))} ${"s"===e[e.length-1]?"are":"is"} now `+(a?"enabled":"disabled"),"",!1,!0)}elFunTipsSlider.oninput=updateTipsInput,elFunTipsSlider_label.onchange=updateTipsInput;const elNotificationLength=dom("notificationLength"),elNotificationLength_label=dom("notificationLength_label");function optionNotificationLength(e){e=parseInt(e.srcElement.value);elNotificationLength.value=elNotificationLength_label.value=e,settings.notificationLength=e,saveSettings()}function settingAutosave(e){e=e.srcElement.value;dom("autosave_interval").value=e,dom("autosave_interval_label").value=e,settings.autosave_interval=e,saveSettings(),clearInterval(autosave),autosave=setInterval(()=>{saveGame()},1e3*e)}function settingMainProgress(){var e=elEnableMainProgress.checked;console.log("enableMainProgress set to "+e),toast("Settings","Status bar progress is now "+(e?"enabled":"disabled"),"",!1,!0),settings.enableMainProgress=e,saveSettings(),elMainProgressContainer.classList.remove("status_tidbit_in")}function settingSounds(e=!0){var t=elEnableSounds.checked;console.log("enableSounds set to "+t),settings.enableSounds=t,saveSettings(),optionSoundsDisable(t),settingMusic(!0),!0===e&&toast("Settings","Sounds are now "+(t?"enabled":"disabled"),"",!1,!0)}function settingMusic(e=!1){var t=elEnableMusic.checked;return console.log("enableMusic set to "+t),e||toast("Settings","Music is now "+(t?"enabled":"disabled"),"",!1,!0),settings.enableMusic=t,saveSettings(),(t?playMusic:stopMusic)()}function settingCarrotSounds(){var e=elEnableCarrotSounds.checked;console.log("enableCarrotSounds set to "+e),toast("Settings","Carrot sounds are now "+(e?"enabled":"disabled"),"",!1,!0),settings.enableCarrotSounds=e,saveSettings()}elNotificationLength.addEventListener("change",optionNotificationLength),elNotificationLength_label.addEventListener("change",optionNotificationLength),dom("autosave_interval").addEventListener("change",settingAutosave),dom("autosave_interval_label").addEventListener("change",settingAutosave),elVolumeMaster.oninput=volumeSliderHandler,volumeMasterDropdown.oninput=volumeSliderHandler,elVolumeMaster_label.onchange=volumeSliderHandler;var keyCarrotFiring=!1,keyCombo=(document.addEventListener("keydown",e=>{var t=e.key;" "===t&&e.preventDefault(),t=interpretKey(t),!settings.enable_keybinds||menuOpen()||t!==settings.keybinds.key_carrot||keyCarrotFiring||(keyCarrotFiring=!0,holdStart(!1,1))}),document.addEventListener("keyup",e=>{if("Enter"===e.key)return"SUMMARY"!==document.activeElement.tagName?document.activeElement.click():void 0;"Escape"===e.key&&(-1!==equipWaiting?cancelToolEquip():menuOpen()?closeDialog():document.activeElement!==elInfoDropdown?elInfoDropdown.focus():elInfoDropdown.blur()),menuState.prestige&&"Enter"===e.key&&openDialog(...dialog.prestige_confirm);if(!e.ctrlKey&&!e.metaKey){var t,a=interpretKey(e.key);if(keyWaiting[0])return doneKeybind(a,!0);keyCombo+=a+" ",keyCodes.includes(keyCombo)&&(t=keyCodes.indexOf(keyCombo),console.log(`keyComboHandler(${t})`),keyCombo="",keyTrigger[t]=!0,keyCodesCode[t]());for(combo of keyCombo)for(code of keyCodes)if(combo===code){keyCombo="";break}if(settings.enable_keybinds&&!menuState.dialog&&"TEXTAREA"!==document.activeElement.nodeName&&"INPUT"!==document.activeElement.nodeName&&!menuOpen()){if(a===settings.keybinds.key_multibuy&&multibuySpin(),a===settings.keybinds.key_carrot)carrotClick(!1,!1,1),keyCarrotFiring=!1,holdStop(),"Spacebar"===a&&e.preventDefault();else if(a===settings.keybinds.key_bill_lvlup)-1!==equipWaiting?(equipTool(Boomer_Bill,equipWaiting,multibuy[mbsel]),cancelToolEquip()):levelUp(Boomer_Bill,multibuy[mbsel]);else if(a===settings.keybinds.key_belle_lvlup)-1!==equipWaiting?(equipTool(Belle_Boomerette,equipWaiting,multibuy[mbsel]),cancelToolEquip()):levelUp(Belle_Boomerette,multibuy[mbsel]);else if(a===settings.keybinds.key_greg_lvlup)-1!==equipWaiting?(equipTool(Gregory,equipWaiting,multibuy[mbsel]),cancelToolEquip()):levelUp(Gregory,multibuy[mbsel]);else for(i=0;i<=5;i++)if(a!==settings.keybinds["key_craft_"+i]||e.altKey){if(a===settings.keybinds["key_craft_"+i]&&e.altKey){if(Gregory.Hoes[i]<1)return;equipToastID=toast("Equipping Tool","Press a character's upgrade key to equip. Press escape to cancel.","",!0,!1,!1,!0,()=>{cancelToolEquip()},"Cancel"),equipWaiting=i}}else createTool(i,multibuy[mbsel]);a===settings.keybinds.key_cleartoasts?(e.preventDefault(),clearToasts(!1)):"Backspace"!=a&&"Delete"!=a||!isDebug()?a===settings.keybinds.key_tips_menu?openTipsMenu():a===settings.keybinds.key_prestige?openPrestigeMenu():a===settings.keybinds.key_themes?themeSwitcher():a===settings.keybinds.key_cosmetics?cosmeticSwitcher():a===settings.keybinds.key_pane_achievements?panelChange("achievements-panel"):a===settings.keybinds.key_pane_statistics?panelChange("stats-panel"):a===settings.keybinds.key_pane_settings?panelChange("settings-panel"):a===settings.keybinds.key_full_numbers&&((t=dom("full_numbers")).checked=!t.checked,setting("full_numbers",!0)):(e.preventDefault(),openDialog(...dialog.clearsave))}}}),"");const keyCodes=["ArrowUp ArrowUp ArrowDown ArrowDown ArrowLeft ArrowRight ArrowLeft ArrowRight B A Enter ","G A M I N G ","J J C V I P ","P I N E A P P L E ","H U H W H U H ","C O N F E T T I ","B O R I N G "],keyCodesCode={0:()=>{mouseConfetti([24,24],confettiColors,300)},1:()=>{setTheme("theme_retro"),mouseConfetti([24,24],["gray"],300)},2:()=>{openDialog(...dialog.jjcvip)},3:()=>{setCosmetic("farmable","pineapple")},4:()=>{toast("huh","huh whuh","blue",!0),unlock("cosmetic","huhwhuh","farmable"),setCosmetic("farmable","huhwhuh")},5:()=>{function e(){let e="#";var t=[];for(i=0;i<5;i++){for(ii=0;ii<6;ii++)e+="0123456789abcdef"[r(16)+1];t.push(e),e="#"}mouseConfetti([40,50],t,400)}e(),document.onclick=e},6:()=>{setTheme("theme_dark"),setCosmetic("bundle","default")}};var keyTrigger=[],easterEgg=0;function eggUp(){easterEgg+=easterEgg<101?1:0,mouseConfetti([1,101===easterEgg?2:Math.floor(easterEgg/5)],ccCarrot),100===easterEgg&&mouseConfetti([24,24],confettiColors,300,4,!0)}var equipWaiting=-1,equipToastID=!1;function cancelToolEquip(){equipWaiting=-1,closeToast(equipToastID)}var keyWaitingToast,hashlist,keyWaiting=[!1,"none"];function detectKey(e){keyWaiting=[!0,e],keyWaitingToast=toast("Change keybind",`Press a key for "${e}"`,"",!0,!0,!1,!0,()=>{doneKeybind("none",!1)},"Cancel")}function doneKeybind(e,t=!0){var a=dom(keyWaiting[1]);"Escape"===e&&(e="Not set"),a.blur(),closeToast(keyWaitingToast),t&&(a.innerText=e,t=keyWaiting[1],a=e,console.log(`[Settings] Set ${t} to key: `+a),settings.keybinds[t]=a,saveSettings()),keyWaiting=[!1,"none"]}function interpretKey(e){return" "===e?"Spacebar":capitalizeFL(e)}function evaluateConditions(t){var a=achievements[t];let o=Array.isArray(a.conditions[0]);var s=1,n=0;if(o){if(o){s=a.hasOwnProperty("condition_amount")?a.condition_amount:a.conditions.length;for(let e=0;e<a.conditions.length;e++)i(t,a.conditions[e])}}else i(t,a.conditions);function i(e,t){var a=Function("return "+t[0])();t[1]<=a&&(n++,o&&s<=n||!o)&&grantAchievement(e)}}function rewardBreakdown(e,t=!1){var a=e?.reward;if(void 0!==a)if(Array.isArray(a))for(let e=0;e<a.length;e++)o(a[e],t);else o(a,t);function o(e,t=!1){var a,[o,s]="string"==typeof e||e instanceof String?e.split(":"):["function",e];e&&(!t||"cash"!==o&&"function"!==o&&"character"!==o)&&("theme"===o?unlock(o,s):"cosmetic"===o?([t,a]=s.split("/"),unlock(o,a,t)):"shop"===o?([a,t]=s.split("/"),console.error("shop_item",t,a,e),unlock("shop_item",t,a,e)):"cash"===o?earnCash(parseInt(s),"achievement"):"function"===o?s():"character"===o&&(console.log("Character unlocked: "+s),unlock("character",s)))}}function grantAchievement(e){if(achieveQuery(e))return console.warn(e+" achievement already unlocked");var t=achievements[e];console.log(`Achievement earned: ${t.name} (${e})`),!0!==t.internal&&!0!==t.hide_toast&&!0!==player.flags.no_achievement_toasts&&toast("","","",!1,!1,e),player.achievements[e]=Date.now(),t.internal&&player.internal++,!1!==t.reward&&rewardBreakdown(t),!1!==t.pages&&null!==t.pages&&(player.pages+=t.pages,pagesCount()),achieveHTMLupdate=!0,"achievements-panel"===currentPanel&&populateAchievements(e),updateMainIcon()}function unlock(e,t,a,o){if(isUnlocked(e,t,a))return console.warn(e+`:${a?"/"+a:""}${t} is already unlocked`);if("theme"===e)player.themes.push(t),newIndicator(!0,"theme"),themesHTMLupdate=!0,populateThemeList();else if("cosmetic"===e){if("bundle"===a){console.log("Unlocking a cosmetic bundle! "+a+t);for(let e=0;e<cosmeticsKeys.length;e++){var s=cosmeticsKeys[e];if("bundle"!==s){var n=cosmetics[s];for(let e=0;e<n.keys.length;e++)n[n.keys[e]].group===t&&unlock("cosmetic",n.keys[e],s)}}}player.cosmetics[a].push(t),cosmeticHTMLupdate=!0,populateCosmeticsList(),newIndicator(!0,"cosmetic"),playerCosmeticsCount(),settings.cosmetic_auto_equip&&setCosmetic(a,t)}else if("character"===e){var i=dom(t+"_box");characterQuery(t)||i.classList.add("char_anim"),player.characters[t]=a||!0,i.classList.remove("char_locked"),elBody.classList.add("c_"+t),Object.keys(player.characters).length>=chars.length&&dom("more_chars_tooltip").classList.add("char_locked"),setTimeout(updateAllTools,10)}else if("shop_item"===e){i="cosmetic"===a?o.split("/")[1]+"/"+o.split("/")[2]:t;try{Carl.shop[a][i].available=!0,console.log(`[Shop] New ${a}: "${i}" now available (Carl)}`)}catch(e){console.warn(e)}settings.carl_shop_toasts&&characterQuery("carl")&&toast("","Carl: A new item is now available","",!1,!0),populateCarl()}else if("trinket"===e)try{Jared.data[t].available=!0,populateJared()}catch(e){console.warn(`[Unlock] Trinket "${t}" doesn't exist`)}}function buyCarl(e,t,a=!1){var o=t;if(console.log(e,t,a),"c"===e[e.length-1]&&(e="cosmetic",[a,t]=t.split("/")),isUnlocked(e,t,a)||Carl.shop[e][o].bought)return console.warn(e+`:${!1!==a?"/"+a:""}${t} is already unlocked`),toast("Whoops","You already own this","",!1,!0),Carl.shop[e][o].bought=!0,populateCarl();var s=Carl.shop[e][o],n=Default_Carl.shop[e][o];characterQuery("carl")&&s.available&&("cash"===n.currency?player.cash>=n.price?(player.cash-=n.price,Carl.shop[e][o].bought=!0,unlock(e,t,a),cashCount(!1),dom("carl_shop_"+o).classList.add("shop_out"),setTimeout(()=>{populateCarl()},170)):toast("Can't Afford",`Carl wouldn't dare let this piece go for less than ${n.price} coins`,"",!1,!0):toast("other currency","other currencies aren't supported yet"))}function buyTrinket(e){var t,a,o;!0!==characterQuery("jared")||(t=jaredShop[e],a=Jared.data[e],o=t.price[a.level],!a.available)||o>player.cash||"cash"!==t.currency||a.level>=t.price.length||(player.cash-=o,a.level++,a.value=t.value[a.level],player.trinket_completion=function(){let e=jaredShop.keys,t=0,a=0;for(i=0;i<e.length;i++){var o=e[i];t+=Jared?.data[o]?.level,a+=jaredShop[o].price.length}return t+"/"+a}(),populateJared(e),cashCount(!1),mouseConfetti([3,3],ccWhite,150,1),t.update&&t.update())}function characterQuery(e){return player.characters[e]}function allCharQuery(){let e=0;for(i=0;i<chars.length;i++)characterQuery(chars[i])&&e++;return e===chars.length}function achieveQuery(e){return void 0!==player.achievements[e]}function isUnlocked(e="theme",t,a){if("theme"===e&&player.themes.includes(t))return!0;if("cosmetic"===e){if(player.cosmetics[a].includes(t))return!0}else if("shop_item"===e)return carlShopQuery(a,t);return!1}function populateKeybinds(){for(i=0;i<settings.keybinds.keys.length;i++){var e=settings.keybinds.keys[i],t=settings.keybinds[e];null!==dom(e)&&(dom(e).innerHTML=interpretKey(t))}}function resetKeybinds(){settings.keybinds=JSON.parse(JSON.stringify(keybinds_default)),saveSettings(),populateKeybinds(),toast("Settings","Keybinds set to defaults","",!1,!0)}function isDebug(){if(hashlist.includes("dev")||player.flags.debug)return!0}setInterval(()=>{for(let e=0;e<achievementsKeys.length;e++){var t=achievementsKeys[e];achieveQuery(t)||evaluateConditions(t)}},3e3),(()=>{function e(){((hashlist=location.hash.substring(1).split("#")).includes("automute")||hashlist.includes("mute"))&&settingSounds(elEnableSounds.checked=!1),isDebug()&&(player.flags.cookies_accepted=!0,seeButton("hardmode"),window.allCharacters=()=>{for(let e=0;e<chars.length;e++)unlock("character",chars[e],!0);toast("","Devtools: All Characters now available"),populateJared()},window.allAchievements=()=>{for(let e=0;e<achievementsKeys.length;e++)grantAchievement(achievementsKeys[e]);toast("","Devtools: All Achievements now unlocked")},window.allThemes=()=>{for(let e=0;e<themesKeys.length;e++)unlock("theme",themesKeys[e]);toast("","Devtools: All Themes now available")},window.allCosmetics=()=>{for(let e=0;e<cosmeticsKeys.length;e++){var t=cosmeticsKeys[e],a=cosmetics[t];for(let e=0;e<a.keys.length;e++)unlock("cosmetic",a.keys[e],t)}toast("","Devtools: All Cosmetics now available")},window.allTrinkets=()=>{unlock("character","jared",!0);var e=jaredShop.keys;for(i=0;i<e.length;i++){var t,a=e[i],o=jaredShop[a],a=Jared.data?.[a];void 0!==a&&(t=o.price,a.level=t.length,a.value=o.value[a.level])}populateJared(),toast("","Devtools: All Trinkets now maxed")},window.allTips=()=>{player.flags.all_tips=!0,populateTipsMenu(),toast("","Devtools: All Tips now visible")},window.allPrestige=()=>{var e;e=player.lifetime.prestige_count;player.prestige_available=!0,seeButton("prestige"),showPrestigeStats()},window.allUnlocks=()=>{allCharacters(),allAchievements(),allThemes(),allCosmetics(),allTrinkets(),allTips()},window.updateValues=e=>{var t=parseInt(setCarrotsEl.value);for(player.carrots=0,player.lifetime.carrots=0,player.prestige.carrots=0,earnCarrots(t),""!==setCashEl.value&&(t=parseInt(setCashEl.value),player.cash=0,player.lifetime.cash=0,earnCash(t)),""!==setGoldenCarrotsEl.value&&(t=parseInt(setGoldenCarrotsEl.value),player.golden_carrots=t,updateGC(),updateCharlesShop()),li=0;li<levelable.length;li++){var a=levelable[li],o=a.nickname,o=parseInt(elCharacterLevel[o].value.split(",").join(""));"number"==typeof o&&!Number.isNaN(o)&&o<=1e3&&0<=o?a.lvl=o:toast("Invalid level","Must be a number, and must be no more than 1000","error")}recalculateCarrotsPer(),characterPrices(),characterButtons(),updateAllTools()},window.importSave=()=>{let t=dom("import_export").value;if(""===t)return toast("Savedata manager","Please input exported savedata","",!1,!0);t=t.split("//+//");try{for(let e=0;e<saveListKeys.length;e++){var a=saveListKeys[e],o=JSON.parse(t[e]);saveList[a]=o}saveGame(),setTimeout(()=>{location.reload()},50)}catch(e){console.error(e),toast("Import error",e,"error")}},window.exportSave=()=>{let t="";for(let e=0;e<saveListKeys.length;e++){var a=saveListKeys[e],a=saveList[a];if(t+=JSON.stringify(a),e===saveListKeys.length-1)break;t+="//+//"}dom("import_export").value=t},window.optionDebugUpdate=()=>{player.flags.debug_dont_autoupdate=!dom("debug_dont_autoupdate").checked,toast("Flag set",`
debug_dont_autoupdate = `+player.flags.debug_dont_autoupdate,"",!1,!0)},$("#devp").innerHTML=`<div style="">
                <div class="footer_bottom brown_darker_color">
                    <style type="text/css">
                        #devp > div { width: 100%; max-width: 550px; float: right; margin-top: -96px; }
                        #devp > div > div { display: block; padding: 12px 20px; margin-left: 32px; }
                        .unlock_buttons { width: 100%; max-width: 400px; }
                        .unlock_buttons button { width: 100%; margin-right: 4px; }
                        @media only screen and (max-width: 1200px) {
                            #devp > div { width: 100%; max-width: unset; float: unset; margin: 0; }
                            #devp > div > div { display: block; padding: 12px 20px; margin-left: 0; margin-bottom: 24px; }
                        }
                    </style>

                    <b style="font-size: 18pt; color: rgb(255, 161, 53)">Dev Tools</b><br>
                    <button onclick="clearSave()" class="button_red">Quick Reset</button>

                    <h4>Unlock all</h4>
                    <div class="unlock_buttons">
                        <div class="flex">
                            <button onclick="allUnlocks()">Everything</button>
                            <button onclick="allCharacters()">Characters</button>
                            <button onclick="allAchievements()">Achievements</button>
                        </div>
                        <div class="flex">
                            <button onclick="allThemes()">Themes</button>
                            <button onclick="allCosmetics()">Cosmetics</button>
                            <button onclick="allTrinkets()">Trinkets</button>
                        </div>
                        <div class="flex">
                            <button onclick="allTips()">Tips</button>
                            <button onclick="allPrestige()">Show prestige</button>
                        </div>
                    </div>
                    
                    <h4>Set Values</h4>
                    <table>
                        <tr>
                            <td>
                                <label for="setCarrot">Carrots:</label>
                            </td>
                            <td>
                                <input id="setCarrot" class="dev_input" type="number" value="500000">
                            </td>
                            <td id="setCarrotRounded" class="secondary_text"></td>
                        </tr>

                        <tr>
                            <td>
                                <label for="setGoldenCarrot">Golden Carrots:</label>
                            </td>
                            <td>
                                <input id="setGoldenCarrot" class="dev_input" type="number">
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <label for="setCash">Coins:</label>
                            </td>
                            <td>
                                <input id="setCash" class="dev_input" type="number" value="9999">
                            </td>
                        </tr>
                    </table>
                    <button onclick="updateValues()">Update Values</button>
                    
                    <h4>Save data management</h4>
                    <label for="debug_dont_autoupdate">
                    <input type="checkbox" name="debug_dont_autoupdate" id="debug_dont_autoupdate" ${player.flags.debug_dont_autoupdate&&void 0!==player.flags.debug_dont_autoupdate?"":"checked"}
                    onclick="optionDebugUpdate()">
                        Auto-update save while in debug mode
                    </label><br/>
                    <textarea name="import_export" id="import_export" cols="40" rows="3" style="max-width: 100%; min-width: 100%;" onclick="this.focus();this.select()"></textarea><br/>
                    <button onclick="exportSave()" style="width: 159px;">🠹 Export</button>
                    <button onclick="importSave()" style="width: 159px;">🠻 Import</button>
                </div>
            </div>`,window.setCarrotsEl=dom("setCarrot"),window.setGoldenCarrotsEl=dom("setGoldenCarrot"),window.setCashEl=dom("setCash"),window.elSetCarrotRounded=dom("setCarrotRounded"),document.querySelectorAll(".dev_input").forEach(e=>{e.disabled=!1,e.addEventListener("keyup",e=>{"Escape"!==e.key&&"Enter"!==e.key||document.activeElement.blur(),"Enter"===e.key&&updateValues()})}),setCarrotsEl.addEventListener("input",()=>{""!==setCarrotsEl.value&&(elSetCarrotRounded.innerText=`(${DisplayRounded(setCarrotsEl.value)})`)})),hashlist.includes("dan")?(player.flags.no_achievement_toasts=!0,setting("tutorial_messages",dom("tutorial_messages").checked=!1),setting("carl_shop_toasts",dom("carl_shop_toasts").checked=!1)):player.flags.no_achievement_toasts=!1,hashlist.includes("log")?(window.clog=console.log,console.log=(...e)=>{clog(e),toast("","☰ "+Array.prototype.slice.call(e).join(", "))},window.cwarn=console.warn,console.warn=(...e)=>{cwarn(e),toast("","⚠ "+Array.prototype.slice.call(e).join(", "))},window.cerror=console.error,console.error=(...e)=>{cerror(e),toast("","⛔ "+Array.prototype.slice.call(e).join(", "))}):"function"==typeof clog&&([console.log,console.warn,console.error]=[clog,cwarn,cerror]),updateMainIcon()}(onhashchange=e)()})(),(()=>{var e,a=[player,player.prestige,player.lifetime,player.cosmetics,settings,settings.cosmetics,settings.keybinds,Boomer_Bill,Belle_Boomerette,Gregory,Charles,Charles.improveWorkingConditions,Charles.decreaseWages,Charles.betterHoes,Carl,Carl.shop,Carl.shop.theme,Carl.shop.cosmetic,Jared,Jared.data],o=[default_player,playerPrestigeTemplate,default_player.lifetime,default_player.cosmetics,default_settings,default_settings.cosmetics,keybinds_default,Default_Boomer_Bill,Default_Belle_Boomerette,Default_Gregory,Default_Charles,Default_Charles.improveWorkingConditions,Default_Charles.decreaseWages,Default_Charles.betterHoes,Default_Carl,Default_Carl.shop,Default_Carl.shop.theme,Default_Carl.shop.cosmetic,Default_Jared,Default_Jared.data];if(default_player.data_version>player.data_version||isDebug()&&!player.flags.debug_dont_autoupdate)try{for(isDebug()||toast("Update Beta 1.17.5",'- New Bill cosmetic<br/>- New achievement & achievement icons<br/>- Achievement unlock condition changes & bug fixes<br/><br/><a href="https://www.notkal.com/posts/carrot-clicker-changelog/#dev-beta-1_17_5" target="_blank">Full changelog</a>',void 0,!0),oi=0;oi<o.length;oi++){var s=a[oi],n=o[oi],l=Object.keys(n);for(i=0;i<l.length;i++){var r=l[i];s.hasOwnProperty(r)||(console.log(r+" property not found, updating save..."),s[r]=JSON.parse(JSON.stringify(n[r])))}}let t=0;for(let e=0;e<achievementsKeys.length;e++){var c=achievementsKeys[e],u=achievements[c],d=achieveQuery(c),p=(d&&!1!==u.pages&&null!==u.pages&&(t+=u.pages),u.reward);d&&!1!==p&&rewardBreakdown(u,!0)}if(player.pages!==t){console.log("Achievement page rewards have been changed");let e=toast("Page Rewards Changed",`The page rewards for completing achievements have been changed. Your page count has been updated to reflect those changes (${player.pages} -> ${t})`,"orange",!0,!1,!1,!0,()=>{closeToast(e)},"Got it");player.pages=t}console.log(`Player object has been updated (Version ${player.data_version} -> ${default_player.data_version})`),isDebug()&&player.data_version!==default_player.data_version&&toast("",`Player object has been updated (Version ${player.data_version} -> ${default_player.data_version})`,"",!0),player.data_version=default_player.data_version,saveGame()}catch(e){console.warn("An object update was attempted but failed. Error info below:"),console.error(e),toast("Save file update failed","If you run into any issues you may have to delete your save.","error",!0)}for(i=0;i<chars.length;i++){var t=chars[i],h=player.characters[t];characterQuery(t)&&unlock("character",t,h)}achieveCompactMode(settings.compact_achievements),achieveGridMode(settings.achievements_grid),"theme_dark"!==settings.theme&&(e=settings.theme,setTheme(e));for(let e=1;e<cosmeticsKeys.length;e++)"default"!==settings.cosmetics[cosmeticsKeys[e]]&&setCosmetic(cosmeticsKeys[e],settings.cosmetics[cosmeticsKeys[e]]);if(null!==settings.openpanel&&panelChange(settings.openpanel,!0),settings.cosmetics_grid&&(cosmeticsView.value="grid",cosmeticsGridMode()),!1!==Gregory.crafting){console.log("[Greg] Restarting unfinished craft job");try{createTool(...Gregory.crafting)}catch(e){console.error(e)}}settings.show_nav||elBody.classList.add("hide_nav");for(let e=0;e<achievementsKeys.length;e++){var g=achievementsKeys[e],g=achievements[g];g.internal?internalAchievements++:(g.hide_list&&hiddenAchievements++,"challenge"===g.style&&challengeAchievements++)}if("achievements-panel"===currentPanel&&populateAchievements(),!0!==player.flags.cookies_accepted){let e=toast("Cookies & Privacy",'By clicking accept you agree to the usage of cookies to save your progress. If you choose not to click accept your progress will not be saved. <a href="https://www.notkal.com/about/#privacy" target="_blank">Privacy Policy</a>',"purple",!0,!1,!1,!0,()=>{closeToast(e),player.flags.cookies_accepted=!0,saveGame()},"Accept")}!0!==player.flags.tutorial0&&(toast("Welcome to Carrot Clicker!","Click the carrot to farm. Spend your carrots on hiring/upgrading new workers. Eventually you will be able to buy them better tools to work with. Good luck!","",!0),player.flags.tutorial0=!0),populateKeybinds(),fillSettingsPage(),carrotCount(),updateCPC(),cashCount(!1),characterPrices(),characterButtons(),updateCharlesShop(),pagesCount(!1),calculatePrestigePotential(),updateAllTools(),updateToolPrices(),updateMainIcon(),populateCarl(),populateJared(),player.new_theme&&newIndicator(!0,"theme"),player.new_cosmetic&&newIndicator(!0,"cosmetic"),player.prestige_available&&seeButton("prestige"),0<player.lifetime.prestige_count&&showPrestigeStats()})(),loadCheck=!0;
